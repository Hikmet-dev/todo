(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[0],{119:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(10),c=n.n(r),i=(n(94),n(16)),o=n.n(i),s=n(36),u=n(25),l=n(19),j=n(166),d=n(50),b=n(161),O=n(158),h=n(167),x=n(174),f=n(170),p=n(168),g=n(171),v=n(5);function m(e){var t=e.onKeyPress,n=Object(a.useState)(""),r=Object(l.a)(n,2),c=r[0],i=r[1];return Object(v.jsx)(g.a,{id:"outlined-basic",label:"New to do",variant:"outlined",size:"small",fullWidth:!0,type:"text",value:c,onChange:function(e){return function(e){i(e.target.value)}(e)},onKeyPress:t,onKeyUp:function(e){return"Enter"===e.key&&i("")}})}var k=n(159),C=n(120);function y(e){var t=e.onChange,n=e.doneSort;return Object(v.jsxs)(k.a,{color:"primary","aria-label":"outlined primary button group",children:[Object(v.jsx)(C.a,{onClick:t,variant:"all"===n&&"contained",value:"all",children:"All"}),Object(v.jsx)(C.a,{onClick:t,variant:"true"===n&&"contained",value:"true",children:"Done"}),Object(v.jsx)(C.a,{onClick:t,variant:"false"===n&&"contained",value:"false",children:"Undone"})]})}var P=n(76),S=n.n(P),w=n(77),F=n.n(w);function I(e){var t=e.dataSort,n=e.onChange;return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(k.a,{variant:"text",color:"primary","aria-label":"text primary button group",children:[Object(v.jsx)(C.a,{size:"medium",value:"ascending",onClick:n,variant:"ascending"===t&&"contained",children:Object(v.jsx)(S.a,{fontSize:"inherit"})}),Object(v.jsxs)(C.a,{size:"medium",value:"descending",onClick:n,variant:"descending"===t&&"contained",children:[" ",Object(v.jsx)(F.a,{fontSize:"inherit"})," "]})]})})}var E=n(169),K=n(160),T=function(e){var t=e.onChangeItemFilter,n=e.itemPerPage;return Object(v.jsxs)(E.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:n,onChange:t,children:[Object(v.jsx)(K.a,{value:5,children:"5"}),Object(v.jsx)(K.a,{value:10,children:"10"}),Object(v.jsx)(K.a,{value:20,children:"20"})]})},D=function(e){var t=e.onChange,n=e.sortParam,a=e.doneSort,r=e.onChangeItemFilter,c=e.itemPerPage;return Object(v.jsxs)(b.a,{container:!0,spacing:3,children:[Object(v.jsx)(b.a,{item:!0,xs:6,children:Object(v.jsx)(y,{onChange:a,doneSort:n.done})}),Object(v.jsxs)(b.a,{item:!0,xs:3,alignItems:"center",container:!0,children:[Object(v.jsx)(d.a,{variant:"subtitle1",children:"Sort by:"}),Object(v.jsx)(I,{onChange:t,dataSort:n.date})]}),Object(v.jsxs)(b.a,{item:!0,xs:3,alignItems:"center",container:!0,children:[Object(v.jsx)(d.a,{variant:"subtitle1",children:"Page count"}),Object(v.jsx)(T,{onChangeItemFilter:r,itemPerPage:c})]})]})},L=n(121),z=n(162),B=n(172),N=n(152),A=n(164),U=n(165),J=n(163),W=n(78),q=n.n(W),H=function(e){var t=e.task,n=e.onCheck,r=e.onDelete,c=e.onChange,i=Object(a.useState)(!1),o=Object(l.a)(i,2),s=o[0],u=o[1],j=function(e){u(!s)};return Object(v.jsxs)(L.a,{children:[Object(v.jsx)(z.a,{children:Object(v.jsx)(B.a,{color:"primary",onChange:n,checked:t.done,value:t.uuid})}),s?Object(v.jsx)(N.a,{defaultValue:t.name,autoFocus:!0,name:"".concat(t.uuid),onBlur:function(e){return j()},onKeyDown:function(e){return"Escape"===e.key&&u(!1)},onKeyPress:c,onKeyUp:function(e){return"Enter"===e.key&&u(!1)}}):Object(v.jsx)(A.a,{primary:t.name,onClick:function(e){return j()}}),Object(v.jsx)(A.a,{primary:t.createdAt}),Object(v.jsx)(U.a,{children:Object(v.jsx)(J.a,{edge:"end","aria-label":"delete",onClick:r,value:t.uuid,children:Object(v.jsx)(q.a,{})})})]})},M=n(79),V=n.n(M),G=n(80),Q=n.n(G),R=function(e){var t=e.onPageNow,n=e.pageCount,a=e.activePage,r=new Array(n).fill(1).map((function(e,t){return t+1}));return Object(v.jsxs)(k.a,{color:"primary","aria-label":"contained button group",children:[Object(v.jsx)(C.a,{onClick:t,value:"1",children:Object(v.jsx)(V.a,{})}),r.map((function(e){return Object(v.jsx)(C.a,{onClick:t,value:e,variant:a===e&&"contained",children:e},"item-".concat(e))})),Object(v.jsxs)(C.a,{onClick:t,value:r.length,children:[Object(v.jsx)(Q.a,{})," "]})]})},X=n(24),Y=n.n(X),Z="https://todo-api-learning.herokuapp.com/v1/task/6";var $=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)({done:"all",date:"ascending"}),i=Object(l.a)(c,2),g=i[0],k=i[1],C=Object(a.useState)(1),y=Object(l.a)(C,2),P=y[0],S=y[1],w=Object(a.useState)(1),F=Object(l.a)(w,2),I=F[0],E=F[1],K=Object(a.useState)(5),T=Object(l.a)(K,2),L=T[0],z=T[1],B=Object(a.useState)({isLoading:!1,error:null}),N=Object(l.a)(B,2),A=N[0],U=N[1],J=Object(a.useState)(!1),W=Object(l.a)(J,2),q=W[0],M=W[1];Y.a.interceptors.response.use(void 0,(function(e){return 422!==e.response.status&&404!==e.response.status&&400!==e.response.status||(U((function(t){return Object(u.a)(Object(u.a)({},t),{},{error:e})})),M(!0)),Promise.reject(e)}));var V=Object(a.useCallback)(Object(s.a)(o.a.mark((function e(){var t,n,a,c,i,l,j,d,b,O;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=g.done,e.next="true"===e.t0?3:"false"===e.t0?5:7;break;case 3:return t="filterBy=done&",e.abrupt("break",9);case 5:return t="filterBy=undone&",e.abrupt("break",9);case 7:return t="",e.abrupt("break",9);case 9:return e.next=12,Y.a.get("".concat("https://todo-api-learning.herokuapp.com/v1/tasks/6","?").concat(t,"order=").concat("ascending"===g.date?"asc":"desc"));case 12:return n=e.sent,a=n.data,c=function(){var e=Object(s.a)(o.a.mark((function e(t,n,a){var r,c,i,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.length;case 2:if(e.t0=e.sent,e.t1=a,!(e.t0%e.t1)){e.next=8;break}e.t2=Math.floor(t.length/a)+1,e.next=9;break;case 8:e.t2=t.length/a;case 9:return r=e.t2,e.next=12,n;case 12:if(e.t3=e.sent,e.t4=r,!(e.t3<=e.t4)){e.next=18;break}e.t5=n,e.next=19;break;case 18:e.t5=r;case 19:return c=e.t5,e.next=22,c-1;case 22:return e.t6=e.sent,e.t7=a,i=e.t6*e.t7,e.next=27,c;case 27:return e.t8=e.sent,e.t9=a,s=e.t8*e.t9,e.abrupt("return",{paginCount:r,activePagin:c,sliceStart:i,sliceEnd:s});case 31:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),e.next=17,c(a,I,L);case 17:return i=e.sent,l=i.paginCount,j=i.activePagin,d=i.sliceStart,b=i.sliceEnd,E(j),S(l),e.next=26,a.slice(d,b);case 26:return O=e.sent,r(O),e.next=30,U((function(e){return Object(u.a)(Object(u.a)({},e),{},{isLoading:!0})}));case 30:case"end":return e.stop()}}),e)}))),[I,L,g]);Object(a.useEffect)((function(){V()}),[V,g]);var G=function(){var e=Object(s.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Enter"!==t.key||!t.target.value.trim()){e.next=4;break}return e.next=3,Y.a.post(Z,{name:t.target.value.trim(),done:!1});case 3:V();case 4:case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(s.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.a.patch("".concat(Z,"/").concat(t.target.value),{done:t.target.checked});case 2:V();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(s.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Enter"!==t.key||!t.target.value.trim()){e.next=4;break}return e.next=3,Y.a.patch("".concat(Z,"/").concat(t.target.name),{name:t.target.value});case 3:V();case 4:case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(s.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.a.delete("".concat(Z,"/").concat(t.currentTarget.value));case 2:V();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(e,t){"clickaway"!==t&&M(!1)};return Object(v.jsxs)(j.a,{maxWidth:"md",children:[Object(v.jsx)(d.a,{variant:"h1",component:"h2",align:"center",children:"To do list"}),Object(v.jsx)(b.a,{item:!0,pt:50,children:Object(v.jsx)(m,{onKeyPress:G})}),Object(v.jsx)(D,{onChange:function(e){k((function(t){return Object(u.a)(Object(u.a)({},t),{},{date:e.currentTarget.value})}))},sortParam:g,doneSort:function(e){k((function(t){return Object(u.a)(Object(u.a)({},t),{},{done:e.currentTarget.value})}))},onChangeItemFilter:function(e){z(e.target.value)},itemPerPage:L}),Object(v.jsx)(b.a,{item:!0,alignItems:"center",container:!0,xs:12,children:A.isLoading&&P>1&&Object(v.jsx)(R,{onPageNow:function(e){E(Number(e.currentTarget.value))},pageCount:P,activePage:I})}),Object(v.jsxs)(O.a,{children:[A.isLoading?n.map((function(e){return Object(v.jsx)(H,{task:e,onCheck:Q,onDelete:$,onChange:X},e.uuid)})):Object(v.jsx)(h.a,{}),A.error&&Object(v.jsx)(x.a,{open:q,autoHideDuration:6e3,onClose:_,children:Object(v.jsxs)(f.a,{severity:"error",onClose:_,children:[Object(v.jsx)(p.a,{children:A.error.name}),A.error.message]})})]})]})},_=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,176)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};Y.a.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),c.a.render(Object(v.jsx)($,{}),document.getElementById("root")),_()},94:function(e,t,n){}},[[119,1,2]]]);
//# sourceMappingURL=main.1950418d.chunk.js.map